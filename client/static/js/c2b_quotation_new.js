;/*!newcar-www:widget/c2b_sale_new/car_evaluation/car_evaluation.es6*/
define("newcar-www:widget/c2b_sale_new/car_evaluation/car_evaluation.es6",function(require,exports,module){var mid="new-car_evaluation-",carEvaluationTmpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="new-car_evaluation-evaluation js-evaluation">\n	<div class="new-car_evaluation-downpannel">\n		<div class="new-car_evaluation-evaluation-wrap">\n			',obj&&obj.length){__p+="\n				";for(var i=0;i<obj.length;i++){if(__p+='\n					<span class="new-car_evaluation-dtitle">'+(null==(__t=obj[i].title)?"":__t)+"</span>\n					",__p+=0==i?'\n						<ul class="new-car_evaluation-elist clearfix" id="impact">\n					':1==i?'\n						<ul class="new-car_evaluation-elist clearfix" id="appear">\n					':'\n						<ul class="new-car_evaluation-elist clearfix" id="other">\n					',__p+="\n					",obj[i].content&&obj[i].content.length){__p+="\n						";for(var n=0;n<obj[i].content.length;n++){__p+="\n							";var listData=obj[i].content[n];__p+='\n							<li class="new-car_evaluation-item" data-id="'+(null==(__t=listData.id)?"":__t)+'">'+(null==(__t=listData.title)?"":__t)+"</li>\n						"}__p+="\n					"}__p+="\n					</ul>\n				"}__p+="\n			"}__p+='		\n		</div>\n		<div class="new-car_evaluation-group-btn">\n			<span class="new-car_evaluation-btn js-cancel">取消</span>\n			<span class="new-car_evaluation-btn js-confirm new-car_evaluation-active">确定</span>\n		</div>\n	</div>\n	<span class="new-car_evaluation-tips"></span>\n</div>\n'}return __p},popupJs=require("newcar-www:widget/c2b_sale_new/down_popup/down_popup.es6"),evaluationObj={},up=null,app={init:function(a){app.clickEle(a),app.selectItem(),app.selectOther()},clickEle:function(a){$("body").on("click",".js-confirm",function(){var i=[],t=[];if(!evaluationObj.impactid)return app.showTips("请选择碰撞描述"),!1;if(!evaluationObj.appearid)return app.showTips("请选择外观描述"),!1;var e="";$("#other ."+mid+"item").each(function(a,e){if($(e).hasClass(mid+"active")){var n=$(e).attr("data-id"),s=$(e).text();i.push(n),t.push(s)}}),e=t.length?evaluationObj.impacttxt+","+evaluationObj.appeartxt+","+t.join(","):evaluationObj.impacttxt+","+evaluationObj.appeartxt;var n={type:a.type,collision_desc:evaluationObj.impactid,appearance_desc:evaluationObj.appearid,other_desc:i.join(","),desc:e};a.callback&&a.callback(n),up.hide()})},showContent:function(a,i,t,e){$(".js-evaluation").length||$("body").append(carEvaluationTmpl(a)),app.activeItem(i,t,e),up=new UXPopup({contentId:".js-evaluation",closeId:".js-cancel",contentShowCenter:!0,shadowUseCss:!1,afterShow:function(){},beforeShow:function(){},afterHide:function(){$("#impact ."+mid+"item,#appear ."+mid+"item,#other ."+mid+"item").removeClass(mid+"active"),$("#impact ."+mid+"item,#appear ."+mid+"item,#other ."+mid+"item").removeClass(mid+"gray")}}),popupJs.closeLayer(),up.show()},selectItem:function(){$("body").on("click","#impact ."+mid+"item",function(){if($(this).hasClass(mid+"gray"))return!1;var a=$(this).attr("data-id"),i=$(this).text();evaluationObj.impactid=a,evaluationObj.impacttxt=i,$(this).addClass(mid+"active").siblings().removeClass(mid+"active"),2==a||3==a?$("#appear ."+mid+"item[data-id=1]").addClass(mid+"gray"):$("#appear ."+mid+"item[data-id=1]").removeClass(mid+"gray")}),$("body").on("click","#appear ."+mid+"item",function(){if($(this).hasClass(mid+"gray"))return!1;var a=$(this).attr("data-id"),i=$(this).text();evaluationObj.appearid=a,evaluationObj.appeartxt=i,$(this).addClass(mid+"active").siblings().removeClass(mid+"active"),1==a?$("#impact ."+mid+"item[data-id=1]").siblings().addClass(mid+"gray"):$("#impact ."+mid+"item[data-id=1]").siblings().removeClass(mid+"gray")})},selectOther:function(){$("body").off("click","#other ."+mid+"item"),$("body").on("click","#other ."+mid+"item",function(){$(this).toggleClass(mid+"active")})},showTips:function(a){var i=$("."+mid+"tips");i.text(a).show(),setTimeout(function(){i.fadeOut()},500)},activeItem:function(a,i,t){$("#impact ."+mid+"item,#appear ."+mid+"item,#other ."+mid+"item").removeClass(mid+"active"),$("#impact ."+mid+"item,#appear ."+mid+"item,#other ."+mid+"item").removeClass(mid+"gray"),a&&(2==a||3==a?$("#appear ."+mid+"item[data-id=1]").addClass(mid+"gray"):$("#appear ."+mid+"item[data-id=1]").removeClass(mid+"gray")),i&&(1==i?$("#impact ."+mid+"item[data-id=1]").siblings().addClass(mid+"gray"):$("#impact ."+mid+"item[data-id=1]").siblings().removeClass(mid+"gray")),$("#impact ."+mid+'item[data-id="'+a+'"]').addClass(mid+"active"),$("#appear ."+mid+'item[data-id="'+i+'"]').addClass(mid+"active"),t&&!function(){var a=t.split(",");$("#other ."+mid+"item").each(function(i,t){var e=$(t).attr("data-id");-1!=a.indexOf(e)&&$("#other ."+mid+'item[data-id="'+e+'"]').addClass(mid+"active")})}()}};module.exports={init:function(a){app.init(a)},showContent:app.showContent}});

;/*!newcar-www:widget/c2b_sale_new/c2b_quotation_new/fill_information/fill_information.es6*/
define("newcar-www:widget/c2b_sale_new/c2b_quotation_new/fill_information/fill_information.es6",function(e,t,a){var n=e("newcar-www:static/js/common/util.es6"),o=e("newcar-www:static/js/common/CustomerEventEnum.es6"),i="new-c2b_quotation_new-fill_information-",c=e("newcar-www:widget/c2b_sale_new/down_popup/down_popup.es6"),r=e("newcar-www:widget/c2b_sale_new/content/content.es6"),s=e("newcar-www:widget/c2b_sale_new/city_choose/city_choose.es6"),l=e("newcar-www:widget/c2b_sale_new/car_plate/car_plate.es6"),d=e("newcar-www:widget/c2b_sale_new/car_letter/car_letter.es6"),_=e("newcar-www:widget/c2b_sale_new/brand_audi_model/brand_audi_model.es6"),u=e("newcar-www:widget/c2b_sale_new/card_time/card_time.es6"),p=e("newcar-www:widget/c2b_sale_new/car_evaluation/car_evaluation.es6"),w=e("newcar-www:widget/c2b_sale_new/login_popup/login_popup.es6"),m=e("newcar-www:widget/c2b_sale_new/other_popup/other_popup.es6"),b=e("newcar-www:widget/c2b_sale_new/mile/mile.es6"),g=e("newcar-www:widget/c2b_sale_new/next_btn/next_btn.es6"),y=e("newcar-www:widget/c2b_sale_new/letter_notification/letter_notification.es6"),f=["京","津","沪","渝","冀","豫","云","辽","黑","湘","皖","鲁","新","苏","浙","赣","鄂","桂","甘","晋","蒙","陕","吉","闽","贵","粤","青","藏","川","宁","琼"],h=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],v={data:null,value:""},D={data:f,value:""},j={data:h,value:""},k={years:"",months:"",data:null,defaultyear:""},x=null,C=null,T={seriesid:"",brandid:"",modeid:"",mileage:"",license_date:"",cityid:"",city_name:"",city_code:"",province_name:"",province_code:"",area_name:"",area_code:"",mobile:"",carname:"",type:"g",collision_desc:"",appearance_desc:"",other_desc:"",license_locate:"",source_type:"pc",market_channel:UrlTool.getUrlParam("channel")||"",user_id:"",cookie_id:$.cookie("XIN_UID_CK")||"",keyword_id:UrlTool.getUrlParam("keywordid")||"",creative_id:UrlTool.getUrlParam("creative")||"",ajax:1,choose:""},I={"short":"",letter:"",desc:""},N="";pageData={sn:"",http:"",token:"",usertoken:""};var S=1,E={init:function(e){n.observer.on(o.EventEnum.USERINFO_LOAD_SUCCESS,function(e){N=e.user.mobile}),n.observer.on(o.EventEnum.LOGIN_SUCCESS,function(e){N=e.mobile}),c.init(),k.data=e.cardtime,pageData.http=e.http,pageData.sn=e.sn,pageData.token=e.token,pageData.usertoken=e.usertoken,pageData.location_cityid=e.location_cityid,pageData.city_zg_status=e.city_zg_status,T.user_id=e.usertoken,e.c2bocitytag&&(v.value=e.cityid,T.cityid=e.cityid,r.setTxt("js-city",e.cityname)),E.getDefaulePlate(e.cityname),E.bind(),E.handleData(),w.init(),m.init(),b.init(E.getmile),l.init({callback:E.getShortData,type:"js-short"}),d.init({callback:E.getLetterData,type:"js-letter"}),_.init({callback:E.getBrandAudiModel,type:"js-brand-audi-model",pageData:pageData}),u.init({callback:E.getCardTime,type:"js-card-time"}),p.init({callback:E.getCarEvaluation,type:"js-evalutation"}),r.init(E.showDomFn),y.init({callback:E.getChoose}),g.init({callback:E.getNextBtn,type:"g",data:T})},handleData:function(){E._randerCityData(),E.randerBrandData(),E.randerEvaluationData()},bind:function(){},_randerCityData:function(){$.ajax({type:"post",url:pageData.http+"/api/v1.3.3/c2b_car/get_mcapi_city_list/?source=pc",data:JSON.stringify({sn:pageData.sn,params:{ajax:1,type:2}}),success:function(e){provinceData=e.data,s.init({callback:E.getChooseCityData,data:provinceData})},error:function(e){console.log(e.error_msg)}})},randerBrandData:function(){$.ajax({type:"post",url:pageData.http+"/brand/get_brand_list/?source=pc",data:JSON.stringify({sn:pageData.sn,params:{ajax:1}}),success:function(e){200==e.error_code&&(x=e.data)},error:function(){}})},randerEvaluationData:function(){$.ajax({type:"post",url:pageData.http+"/c2b_car/get_sale_home?source=pc",data:JSON.stringify({sn:pageData.sn,params:{page:"condition",ajax:1}}),success:function(e){200==e.error_code&&(C=e.data)},error:function(){}})},getDefaulePlate:function(e){$.ajax({type:"post",url:pageData.http+"/c2b_car/get_car_plate?source=pc",data:JSON.stringify({sn:pageData.sn,params:{cityname:e,ajax:1}}),success:function(e){200==e.error_code&&(D.value=e.data.city,j.value=e.data.plate,I.short=e.data.city,I.letter=e.data.plate,T.license_locate=I.short+I.letter,r.setTxt("js-short",e.data.city),r.setTxt("js-letter",e.data.plate))},error:function(){}})},showDomFn:function(e,t,a){switch(e){case"js-short":l.showContent(e,t,a,D);break;case"js-letter":d.showContent(e,t,a,j);break;case"js-brand-audi-model":_.showContent(e,t,a,x);break;case"js-card-time":if(!T.carname){var n='<span class="totast">请选择品牌车系</span>';return $(".totast").length||$("."+i+"fill-content").append(n),$(".totast").show(),setTimeout(function(){$(".totast").fadeOut()},500),!1}u.showContent(e,t,a,k);break;case"js-evalutation":p.showContent(C,T.collision_desc,T.appearance_desc,T.other_desc)}},getChooseCityData:function(e){T.province_name=e.province_name,T.province_code=e.province_code,T.city_name=e.city_name,T.city_code=e.city_code,T.cityid=e.city_id_location,T.area_name=e.area_name,T.area_code=e.area_code,g.btnIActive(T)},getShortData:function(e){I.short=e.name,I.letter&&e.name&&(T.license_locate=I.short+I.letter),r.setTxt(e.type,e.name),g.btnIActive(T)},getLetterData:function(e){I.letter=e.name,I.short&&e.name&&(T.license_locate=I.short+I.letter),r.setTxt(e.type,e.name),g.btnIActive(T)},getBrandAudiModel:function(e){T.brandid=e.obj.brandid,T.seriesid=e.obj.audiid,T.modeid=e.obj.modelid,k.years=e.obj.year,k.months="6";var t=(new Date).getFullYear();T.license_date=(e.obj.year>=t?t:e.obj.year)+"-06",k.defaultyear=e.obj.year>=t?t:e.obj.year,r.setTxt("js-card-time",T.license_date),T.carname=e.obj.brandname+" "+e.obj.audiname+" "+e.obj.modelname,r.setTxt(e.type,T.carname),g.btnIActive(T)},getCardTime:function(e){T.license_date=e.obj.year+"-"+E.dbNumber(e.obj.month),r.setTxt(e.type,T.license_date),k.defaultyear=e.obj.year,k.months=e.obj.month,g.btnIActive(T)},dbNumber:function(e){return e>9?e:"0"+e},getCarEvaluation:function(e){T.collision_desc=e.collision_desc,T.appearance_desc=e.appearance_desc,T.other_desc=e.other_desc,I.desc=e.desc,r.setTxt(e.type,e.desc),g.btnIActive(T)},getmile:function(e){T.mileage=e,g.btnIActive(T)},getChoose:function(e){T.choose=e,g.btnIActive(T)},getNextBtn:function(){uxl_track(N?"sellcar_submit#tel_num="+N+"/from=2":"sellcar_submit#from=2"),N?(T.mobile=N,E.ajaxRequest(T)):(w.showContent({type:"g",token:pageData.token,usertoken:pageData.usertoken}),w.loginBtn({callback:E.ajaxRequest,data:T,from:"2"}))},ajaxRequest:function(e){return S?(S=0,$.cookie("XIN_UID")&&(e.user_id=$.cookie("XIN_UID")),void $.ajax({type:"post",url:pageData.http+"/api/v1.3.3/c2b_car/collect_info?source=pc",data:JSON.stringify({sn:pageData.sn,params:e}),success:function(e){var t={type:"g",code:e.error_code,url:"",create_time:"",carname:"",msg:""};if(w.close(),406==e.error_code)uxl_exposure_track("abnormal_evaluate_expo",""),m.showContent(t);else if(200==e.error_code){var a=e.data,n="/c2b_car_o/quotation_result/?clueid="+a.clue_id+"&c2bo_cityid="+a.cityid;window.location.href=UrlTool.fixHref(n)}else E.totastTip(e.error_msg);S=1},error:function(){S=1}})):!1},totastTip:function(e){var t='<span class="totast-tip">'+e+"</span>";return $("body").append(t),setTimeout(function(){$(".totast-tip").remove()},1500),!1}};a.exports={init:function(e){E.init(e)}}});
